<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praktik Minggu 3 Pentest Mobile</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="header-container">
            <button class="back-button" onclick="window.history.back();">&#8592; Back</button>
            <h1>88032023006 | ZICO</h1>
        </div>
    </header>

    <title1>
        <div class="title1-container">
            <h1>Praktik Minggu 3 Pentest Mobile</h1>
            <h2>Tools Pentest Mobile</h2>
        </div>
    </title1>

    <main>
        <section class="content">

            <!-- ======================================================== -->

            <article>
                <h2>1. Pendahuluan</h2>
                <p>
                    Pengujian keamanan aplikasi mobile memerlukan kombinasi analisis statis dan dinamis
                    untuk memahami risiko secara menyeluruh. Pada praktik ini digunakan tiga tools utama,
                    yaitu MobSF untuk analisis statis, ADB sebagai penghubung dan orkestrasi perangkat,
                    serta Frida untuk instrumentasi dinamis pada runtime aplikasi Android.
                    Seluruh proses dilakukan pada lingkungan Windows 11 tanpa WSL dan tanpa virtual machine.
                </p>
            </article>

            <!-- ======================================================== -->

            <article>
                <h2>2. Lingkungan dan Tools</h2>
                <ul>
                    <li>Sistem Operasi: Windows 11</li>
                    <li>Android Device / Emulator (USB Debugging aktif)</li>
                    <li>MobSF (Mobile Security Framework)</li>
                    <li>Android Debug Bridge (ADB)</li>
                    <li>Frida & Frida-Tools</li>
                </ul>
            </article>

            <!-- ======================================================== -->

            <article>
                <h2>3. Persiapan Awal</h2>
                <p>Tahap persiapan awal dilakukan untuk menjalankan MobSF (Mobile Security Framework) menggunakan Docker pada sistem operasi Windows 11. MobSF akan digunakan sebagai alat utama untuk melakukan analisis statis terhadap file APK Android.</p>

                <h3>3.1.1 Menarik Image Resmi MobSF dari Docker Hub</h3>
                <p>Pastikan Docker sudah terpasang dan berjalan dengan normal.<br>Kemudian jalankan perintah berikut pada Command Prompt atau PowerShell:</p>
                <textarea id="markdown-input" rows="0" cols="0">
docker pull opensecurity/mobile-security-framework-mobsf:latest
                </textarea>
                <img src="assets/pm-1.png" alt="Image" class="article-image">
                <p>Perintah ini digunakan untuk mengunduh image resmi MobSF versi terbaru dari Docker Hub ke sistem lokal.</p>

                <h3>3.1.2 Menjalankan Container MobSF</h3>
                <p>Setelah image berhasil diunduh, jalankan container MobSF dengan melakukan mapping port 8000 container ke port 8000 host:</p>
                <textarea id="markdown-input" rows="0" cols="0">
docker run -it --rm -p 8000:8000 opensecurity/mobile-security-framework-mobsf:latest
                </textarea>

                <h3>3.1.3 Mengakses Dashboard MobSF</h3>
                <p>Setelah container berjalan, buka browser dan akses alamat berikut: <a href="http://localhost:8000/">http://localhost:8000/</a></p>
                <p>Jika berhasil, halaman dashboard MobSF akan tampil dan siap digunakan untuk analisis APK.</p>

                <h3>3.1.4 Login ke MobSF</h3>
                <img src="assets/pm-2.png" alt="Image" class="article-image">
                <p>Gunakan kredensial default MobSF untuk masuk ke dashboard:</p>
                <ul>
                    <li>Username: mobsf</li>
                    <li>Password: mobsf</li>
                </ul>
                <p>Setelah login, MobSF siap digunakan untuk melakukan analisis statis aplikasi Android.<br><br><br></p>

                <h3>3.2.1 Instalasi Frida dan Frida-Tools</h3>
                <p>Install Frida dan Frida-tools menggunakan pip:</p>
                <textarea id="markdown-input" rows="0" cols="0">
pip install frida frida-tools
                </textarea>
                <p>Tunggu hingga proses instalasi selesai tanpa error. Lalu periksa versi Frida untuk memastikan instalasi berhasil:</p>
                <textarea id="markdown-input" rows="0" cols="0">
frida --version
                </textarea>
                <img src="assets/pm-9.png" alt="Image" class="article-image">
                
                <h3>3.2.2 Tentukan ABI Emulator (WAJIB)</h3>
                <p>Pastikan frida-server berjalan di device:</p>
                <textarea id="markdown-input" rows="0" cols="0">
adb shell getprop ro.product.cpu.abi
                </textarea>
                <p>Catat hasilnya, biasanya: <b>x86_64</b></p>

                <h3>3.2.3 Download frida-server yang SESUAI</h3>
                <p>Pastikan: Versi sama dengan Frida CLI → 17.5.2 dan ABI sama dengan device</p>
                <p><b>Contoh nama file:</b></p>
                <p><a href="https://github.com/frida/frida/releases/download/17.5.2/frida-server-17.5.2-android-x86_64.xz">frida-server-17.5.2-android-x86_64.xz</a></p>
                <p><b>Ekstrak sampai dapat file:</b></p>
                <textarea id="markdown-input" rows="0" cols="0">
frida-server-17.5.2-android-x86_64
                </textarea>
                <p><b>Rename menjadi:</b></p>
                <textarea id="markdown-input" rows="0" cols="0">
frida-server
                </textarea>

                <h3>3.2.4 Push dan Run frida-server ke Device</h3>
                <p>Dari folder tempat frida-server berada:</p>
                <textarea id="markdown-input" rows="0" cols="0">
adb push frida-server /data/local/tmp/
                </textarea>
                <textarea id="markdown-input" rows="0" cols="0">
adb shell chmod 755 /data/local/tmp/frida-server
                </textarea>
                <textarea id="markdown-input" rows="0" cols="0">
adb shell /data/local/tmp/frida-server
                </textarea>
                <p>Diamkan Terminal ini. Jika berhasil: Tidak ada error dan Cursor diam (frida-server running)</p>
                <p><br><br></p>

                <h3>3.3.1 Mengambil File APK dari Emulator</h3>
                <p>Menentukan lokasi file APK F-Droid pada emulator:</p>
                <textarea id="markdown-input" rows="0" cols="0">
adb shell pm path org.fdroid.fdroid
                </textarea>
                <p>Mengambil file APK F-Droid dari emulator ke sistem host Windows:</p>
                <textarea id="markdown-input2" rows="0" cols="0">
adb pull /data/app/~~Xd2S0pyQiIAEIpRwEhlcBA==/org.fdroid.fdroid-KR8PTYnYw0JyrT4SBtBt4w==/base.apk fdroid.apk
                </textarea>
                <p>APK diekstrak langsung dari emulator untuk dilakukan analisis statis di sisi host Windows.</p>
                <p>Pastikan file tersedia</p>
                <textarea id="markdown-input" rows="0" cols="0">
dir
                </textarea>
                <img src="assets/pm-3.png" alt="Image" class="article-image">
                
            </article>

            <!-- ======================================================== -->

            <article>
                <h2>4. Analisis Statis Dasar (MobSF)</h2>

                <h3>4.1 Mengunggah APK ke MobSF</h3>
                <p>Setelah login, pada halaman utama MobSF, klik tombol Upload & Analyze.<br>Pilih file APK yang telah disiapkan sebelumnya (target.apk).</p>
                <img src="assets/pm-4.png" alt="Image" class="article-image">
                <p>Tunggu proses upload dan analisis statis berjalan hingga selesai. Proses ini biasanya memakan waktu beberapa detik hingga beberapa menit, tergantung ukuran aplikasi.</p>

                <h3>4.2 Hasil Analisis Statis (Summary MobSF)</h3>
                <p>Setelah proses analisis selesai, MobSF akan menampilkan halaman Summary Report yang berisi beberapa bagian utama sebagai berikut:</p>
                <img src="assets/pm-5.png" alt="Image" class="article-image">
                <p><b>1. Manifest Summary</b></p>
                <p>Menampilkan konfigurasi utama dari AndroidManifest.xml, antara lain:</p>
                <ul>
                    <li>Daftar permission yang digunakan aplikasi</li>
                    <li>Komponen aplikasi yang diekspos (activity, service, receiver, provider)</li>
                    <li>Status konfigurasi seperti debuggable dan allowBackup</li>
                </ul>
                <img src="assets/pm-6.png" alt="Image" class="article-image">
                <p><b>2. Binary Analysis</b></p>
                <p>Menampilkan hasil analisis terhadap kode aplikasi, meliputi:</p>
                <ul>
                    <li>String yang tertanam di dalam APK</li>
                    <li>Pemanggilan API tertentu</li>
                    <li>Indikasi penggunaan fungsi atau library berisiko</li>
                </ul>
                <img src="assets/pm-7.png" alt="Image" class="article-image">

                <h3>4.3 Mengunduh Laporan Analisis</h3>
                <ol>
                    <li>Pada halaman hasil analisis MobSF, pilih PDF Report.</li>
                    <li>Simpan file laporan sebagai dokumentasi hasil analisis statis aplikasi.</li>
                </ol>
                <a href="data/MobSF-Static-Analysis-Report.pdf">MobSF Static Analysis Report.pdf</a>
            </article>

            <!-- ======================================================== -->

            <article>
                <h2>5. Analisis Statis Dasar (Frida)</h2>

                <h3>5.1 Buka PowerShell BARU → Verifikasi</h3>
                <textarea id="markdown-input" rows="0" cols="0">
frida-ps -U
                </textarea>
                <p>Jika muncul process list → frida-server AKTIF</p>
                <img src="assets/pm-11.png" alt="Image" class="article-image">

                <h3>5.2 Membuat Script Hooking Frida</h3>
                <p>Buat file JavaScript baru, misalnya: hook.js</p>
                <p>Isi file hook.js dengan script hooking sederhana berikut:</p>
                <textarea id="markdown-input3" rows="0" cols="0">
Java.perform(function () {

    // 1. Hook Activity utama (MainActivity)
    try {
        var MainActivity = Java.use("org.fdroid.fdroid.MainActivity");
        MainActivity.onResume.implementation = function () {
            send("[*] MainActivity.onResume() terpanggil");
            return this.onResume();
        };
        send("[+] Hook MainActivity.onResume berhasil");
    } catch (e) {
        send("[!] MainActivity tidak ditemukan: " + e);
    }

    // 2. Hook semua Log.d() agar semua debug log muncul
    try {
        var Log = Java.use("android.util.Log");
        Log.d.overload('java.lang.String', 'java.lang.String').implementation = function (tag, msg) {
            send("[LOG] " + tag + " : " + msg);
            return this.d(tag, msg);
        };
        send("[+] Hook Log.d berhasil");
    } catch (e) {
        send("[!] Gagal hook Log.d: " + e);
    }

    // 3. Hook String.toString() (sering memunculkan info sensitif)
    try {
        var StringCls = Java.use("java.lang.String");
        StringCls.toString.implementation = function () {
            var result = this.toString();
            send("[String] " + result);
            return result;
        };
        send("[+] Hook String.toString berhasil");
    } catch (e) {
        send("[!] String hook error: " + e);
    }

});
                </textarea>
                <p>Script ini digunakan untuk memastikan bahwa Frida berhasil melakukan hooking ke runtime aplikasi.</p>

                <h3>5.3 Menjalankan Hooking pada Aplikasi Target</h3>
                <p>Jalankan aplikasi target di device. Dari host Windows, jalankan perintah berikut:<br>Gunakan PID F-Droid (tadi: 3648):</p>
                <textarea id="markdown-input" rows="0" cols="0">
frida -U -p 3648 -l hook.js
                </textarea>
                <img src="assets/pm-12.png" alt="Image" class="article-image">
            </article>

            <!-- ======================================================== -->

            <article>
                <h2>6. Hasil dan Temuan</h2>
                <h3>Temuan dari MobSF (Analisis Statis)</h3>
                <p>Berdasarkan hasil analisis statis aplikasi menggunakan MobSF, diperoleh beberapa temuan penting terkait konfigurasi keamanan, komponen aplikasi, serta potensi risiko sebagai berikut:</p>
                <p><b>1. Konfigurasi Aplikasi</b></p>
                <p><b>android:debuggable</b></p>
                <ul>
                    <li>Tidak ditemukan</li>
                    <li>Artinya aplikasi tidak dalam mode debug, sehingga lebih aman dari eksploitasi debugging langsung.</li>
                </ul>
                <p><b>android:allowBackup</b></p>
                <ul>
                    <li>Aktif (true)</li>
                    <li>Mengizinkan data aplikasi di-backup melalui mekanisme Android.</li>
                </ul>
                <p><b>Risiko:</b><br>Data aplikasi berpotensi diekstrak melalui backup jika perangkat atau akun pengguna terkompromi.</p>
                <p><b>Mitigasi:</b><br>Set android:allowBackup="false" untuk aplikasi produksi yang menangani data sensitif.</p>

                <p><b>2. Komponen yang Diekspos (Exported Components)</b></p>
                <p>Ditemukan beberapa activity dan receiver dengan android:exported="true", antara lain:</p>
                <ul>
                    <li>org.fdroid.fdroid.panic.PanicPreferencesActivity</li>
                    <li>org.fdroid.fdroid.panic.PanicResponderActivity</li>
                    <li>org.fdroid.fdroid.views.repos.AddRepoActivity</li>
                    <li>org.fdroid.fdroid.views.main.MainActivity</li>
                    <li>org.fdroid.fdroid.receiver.RepoUpdateReceiver</li>
                </ul>
                <p><b>Risiko:</b><br>Komponen yang diekspos dapat dipanggil oleh aplikasi lain jika tidak dilindungi validasi atau permission tambahan, berpotensi menyebabkan component abuse.</p>
                <p><b>Mitigasi:</b><br>Batasi komponen dengan android:exported="false" jika tidak diperlukan<br>Tambahkan validasi intent dan permission khusus pada komponen yang harus diekspos</p>

                <p><b>3. Permissions Aplikasi</b></p>
                <p>Tidak ditemukan permission berisiko tinggi seperti:</p>
                <ul>
                    <li>READ_SMS</li>
                    <li>RECORD_AUDIO</li>
                </ul>
                <p>Permission yang digunakan sebagian besar relevan dengan fungsi aplikasi (network, storage, package management).</p>
                <p><b>Risiko:</b><br>Beberapa permission seperti MANAGE_EXTERNAL_STORAGE dan QUERY_ALL_PACKAGES bersifat luas dan perlu kontrol ketat.</p>
                <p><b>Mitigasi:</b><br>Terapkan prinsip least privilege dan evaluasi kembali permission dengan cakupan luas.</p>

                <p><b>4. Hardcoded Strings / API Key Sensitif</b></p>
                <p>Tidak ditemukan API key atau credential sensitif secara eksplisit pada manifest.</p>
                <p>Informasi seperti versi aplikasi (1.23.1) tetap dapat terungkap melalui analisis runtime (dibuktikan pada tahap Frida).</p>
                <p><b>Risiko:</b><br>Informasi internal dapat digunakan untuk fingerprinting aplikasi.</p>
                <p><b>Mitigasi:</b><br>Minimalkan informasi sensitif di log dan string runtime<br>Gunakan obfuscation (ProGuard / R8)</p>
                
                <h3>Ringkasan Temuan dari MobSF</h3>
                <p>Hasil analisis statis menggunakan MobSF menunjukkan bahwa aplikasi tidak berjalan dalam mode debug, namun masih mengaktifkan fitur allowBackup yang berpotensi memungkinkan ekstraksi data aplikasi. Ditemukan beberapa activity dan receiver yang diekspos ke luar aplikasi, sehingga berisiko terhadap penyalahgunaan komponen jika tidak dilengkapi validasi tambahan. Tidak ditemukan permission berisiko tinggi yang tidak relevan maupun API key sensitif secara eksplisit, meskipun informasi internal aplikasi masih dapat terungkap melalui analisis dinamis.</p>
                <p><br><br></p>
                
                <h3>Temuan dari Frida (Analisis Dinamis)</h3>
                <p><b>1. Hooking Runtime Berhasil</b></p>
                <p>Frida berhasil attach ke proses aplikasi dengan PID 3648.</p>
                <p>Script hook.js dieksekusi tanpa crash.</p>
                <textarea id="markdown-input4" rows="0" cols="0">
Connected to Android Emulator
[+] Hook Log.d berhasil
[+] Hook String.toString berhasil
                </textarea>

                <p><b>2. Class MainActivity Tidak Ditemukan</b></p>
                <p>Frida gagal menemukan class org.fdroid.fdroid.MainActivity.</p>
                <p><b>Makna Temuan:</b></p>
                <ul>
                    <li>Aplikasi tidak menggunakan class tersebut secara langsung</li>
                    <li>Struktur aplikasi kemungkinan memakai activity lain, fragment, atau arsitektur modular</li>
                    <li>Bukan kegagalan keamanan, namun informasi struktur internal aplikasi</li>
                </ul>
                <p><b>Risiko:</b><br>Penyerang dapat memetakan struktur aplikasi melalui trial-and-error hooking</p>
                <p><b>Mitigasi:</b><br>Terapkan obfuscation (R8 / ProGuard)<br>Minimalkan informasi class name yang mudah ditebak</p>

                <p><b>3. Intersepsi Log Debug (Log.d)</b></p>
                <p>Hook pada android.util.Log.d() berhasil.</p>
                <p><b>Makna Temuan:</b></p>
                <ul>
                    <li>Seluruh log debug aplikasi dapat diintersep saat runtime</li>
                    <li>Jika log berisi data sensitif, berpotensi bocor</li>
                </ul>
                <p><b>Mitigasi:</b><br>Hapus atau minimalkan log debug pada build produksi<br>Gunakan conditional logging (disable pada release build)</p>

                <p><b>4. Kebocoran Informasi melalui String.toString()</b></p>
                <p>Frida berhasil menangkap string internal aplikasi:</p>
                <textarea id="markdown-input" rows="0" cols="0">
[String] F-Droid 1.23.1
                </textarea>
                <p><b>Makna Temuan (KRUSIAL):</b></p>
                <ul>
                    <li>Informasi internal aplikasi dapat diambil saat runtime</li>
                    <li>Data ini tidak terlihat pada analisis statis</li>
                    <li>Menunjukkan potensi information disclosure</li>
                </ul>
                <p><b>Risiko:</b><br>Fingerprinting aplikasi (versi, fitur, kondisi internal)<br>Membantu eksploitasi lanjutan yang spesifik versi</p>
                <p><b>Mitigasi:</b><br>Hindari menyimpan informasi sensitif dalam string runtime<br>Gunakan obfuscation string<br>Validasi lingkungan runtime (anti-instrumentation / anti-Frida)</p>

                <h3>Ringkasan Temuan dari Frida</h3>
                <p>Hasil analisis dinamis menggunakan Frida menunjukkan bahwa aplikasi dapat diinstrumentasi dan diamati pada saat runtime. Meskipun class MainActivity tidak ditemukan, hooking terhadap fungsi umum seperti Log.d dan String.toString berhasil dilakukan dan menghasilkan informasi internal aplikasi, seperti versi aplikasi. Hal ini membuktikan adanya potensi kebocoran informasi runtime yang tidak terdeteksi pada analisis statis.</p>
            </article>

            <!-- ======================================================== -->

            <article>
                <h2>7. Bukti Screenshot</h2>
                <p>
                    Bukti pengujian dikumpulkan dalam bentuk screenshot, antara lain:
                </p>
                <ul>
                    <li>Tampilan hasil analisis statis MobSF.</li>
                    <img src="assets/pm-5.png" alt="Image" class="article-image">
                    <li>Daftar proses aplikasi dari frida-ps -U.</li>
                    <img src="assets/pm-13.png" alt="Image" class="article-image">
                    <li>Output hasil hooking Frida pada aplikasi target.</li>
                    <img src="assets/pm-12.png" alt="Image" class="article-image">
                </ul>
                <p>
                    Seluruh bukti disimpan sebagai dokumentasi pendukung laporan.
                </p>
            </article>

            <!-- ======================================================== -->

            <article>
                <h2>8. Kesimpulan</h2>
                <p>Berdasarkan rangkaian pengujian yang dilakukan, integrasi analisis statis dan dinamis pada aplikasi Android berhasil dilaksanakan menggunakan MobSF, ADB, dan Frida. Analisis statis dengan MobSF mengungkap konfigurasi keamanan aplikasi, seperti aktifnya fitur allowBackup, adanya beberapa komponen yang diekspos, serta penggunaan permission dengan cakupan luas namun masih relevan dengan fungsi aplikasi. Selanjutnya, melalui analisis dinamis menggunakan Frida, berhasil dilakukan instrumentasi runtime dengan metode attach berdasarkan PID, yang membuktikan bahwa aktivitas internal aplikasi dapat diintersep saat berjalan, termasuk log debug dan string internal seperti informasi versi aplikasi. Meskipun tidak ditemukan kerentanan kritis secara langsung, hasil pengujian menunjukkan potensi kebocoran informasi runtime dan risiko penyalahgunaan komponen jika tidak dikonfigurasi dengan baik. Oleh karena itu, penerapan mitigasi seperti pembatasan komponen yang diekspos, penonaktifan log debug pada build produksi, serta penggunaan obfuscation menjadi langkah penting untuk meningkatkan keamanan aplikasi Android secara keseluruhan.</p>
            </article>

            <!-- ======================================================== -->
             
        </section>
    </main>

    <footer>
        <p>&copy; 2025 | made with love - zico</p>
    </footer>
</body>
</html>
